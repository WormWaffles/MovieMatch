{% extends '_layout.html' %}

{% block body %}
<div class="flex items-center justify-center min-h-screen bg-gray-100">

    <div class="w-full max-w-lg bg-white p-8 rounded-lg shadow-md">
        <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">Your Profile</h2>

        <!-- Profile Information -->
        <div class="space-y-4">
            <!-- Name -->
            <div>
                <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
                <input type="text" id="name" name="name" value="{{ user.name }}" 
                       class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500" readonly />
            </div>

            <!-- Email -->
            <div>
                <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
                <input type="email" id="email" name="email" value="{{ user.email }}" 
                       class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500" readonly />
            </div>

            <!-- Edit Button -->
            <button id="editButton" onclick="toggleEdit()" 
                    class="w-full py-2 mt-4 text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-md transition">
                Edit Profile
            </button>
        </div>

        <!-- Save Changes Button (hidden initially) -->
        <button id="saveButton" onclick="saveChanges()" 
                class="hidden w-full py-2 mt-4 text-white bg-green-600 hover:bg-green-700 rounded-lg shadow-md transition">
            Save Changes
        </button>
    </div>

    <script>
        function toggleEdit() {
            const inputs = document.querySelectorAll('input');
            inputs.forEach(input => {
                input.readOnly = !input.readOnly;
                input.classList.toggle('border-gray-300');
                input.classList.toggle('border-blue-500');
            });
            document.getElementById('editButton').classList.toggle('hidden');
            document.getElementById('saveButton').classList.toggle('hidden');
        }

        function saveChanges() {
            // Add logic to save changes (e.g., send data to the server)
            alert('Changes saved successfully!');
            toggleEdit();
        }
    </script>

</div>
{% endblock %}